---
type: "to-read"
id: 20251225201219
created: 2025-12-25T20:56:19
source:
  - "https://www.cnblogs.com/jiujuan/p/16880756.html"
tags:
reviewd: false
---
## 一、单层结构不分层

最开始开发项目时，由于需求较少，用一个单独的工程文件就可以满足开发的需求了，不需要进行划分。

## 二、MVC 分层和三层

到后面需求越来越多，于是就把文件进行分解，怎么分解？有人提出了 MVC 的分层方式。

MVC 分层是一个 3 层结构，将整个应用划分为：

- M：model 模型层，用于封装应用业务逻辑相关数据和对数据处理方法。
- V：view 表现层，把数据展示给用户。
- C：controller，控制器，把不同层组织起来，用来控制程序的流程。

[![image-20220917204338558](https://img2022.cnblogs.com/blog/650581/202211/650581-20221111155400829-1033647250.png)](https://img2022.cnblogs.com/blog/650581/202211/650581-20221111155400829-1033647250.png)

最有名的框架就是 Spring MVC。Spring MVC 架构如下：

[![image-20220917204716167](https://img2022.cnblogs.com/blog/650581/202211/650581-20221111155400928-1706085008.png)](https://img2022.cnblogs.com/blog/650581/202211/650581-20221111155400928-1706085008.png)

如果从业务角度来分 3 层：

- 数据库访问层(DAO)
- 业务逻辑层(Business)
- 表现层（UI)

java 代码的包分层：

- controller：控制层，输出数据到表示层
- dao：数据库访问层，对数据库访问的操作
- entity：model 实体层，把数据库表字段的映射到 java 代码
- service：业务逻辑层business/服务层service，业务逻辑层上面可能还有一个服务层

在 java 项目中，一些资源会放在 resources 里，比如 js，css，html，配置文件等

- resources
	- UI(CSS, HTML) 表示层

## 三、N 层架构

N 层架构是在三层架构上的进一步细分。

[![image-20220917211205812](https://img2022.cnblogs.com/blog/650581/202211/650581-20221111155400773-729370731.png)](https://img2022.cnblogs.com/blog/650581/202211/650581-20221111155400773-729370731.png)

（www.herbertograca.com）

- **原生浏览器应用程序** ，渲染和运行用户界面，向服务器应用发送请求；
- **应用服务器** ，包括了展现层、应用层、领域层和持久化层；
- **数据库服务器** ，应用服务器用它来完成数据的持久化。

这个由三层架构变化而来的 N 层架构，尽管用户界面是在客户浏览器渲染和运行，但是用户界面是在存于服务器上并在它上面编译，它解决了

客户端更新问题。

## 四、领域驱动设计DDD用到的架构

Eric Evans 于 2003 年出版了《领域驱动设计：软件核心复杂性应对之道》，在书中他创造了DDD *领域驱动设计* 方法。

到了代码软件架构设计阶段，一般都遵循下面所示的 4 层分层架构设计：

[![image-20220917220014878](https://img2022.cnblogs.com/blog/650581/202211/650581-20221111155401374-1324416603.png)](https://img2022.cnblogs.com/blog/650581/202211/650581-20221111155401374-1324416603.png)

[![image-20220917220340157](https://img2022.cnblogs.com/blog/650581/202211/650581-20221111155400692-606345187.png)](https://img2022.cnblogs.com/blog/650581/202211/650581-20221111155400692-606345187.png)

## 五、EBI 架构

EBI 架构(Entity-Boundary-Interactor，实体-边界-交互器)。

Ivar Jacobson 早在 1992 年就在他的著作 [Object-Oriented Software Engineering: A use case driven approach](https://www.amazon.com/Object-Oriented-Software-Engineering-Driven-Approach/dp/0201403471) 中提出了这个模式。

那时，Jacobson 实际上把它叫做实体-接口-控制(Entity-Interface-Control)，但是后来改成了 EBI，避免“接口”和编程语言中的结构“接口”混淆，以及“控制”和 MVC 中的控制器混淆。

## 六、端口和适配器架构(六边形架构)

2005年，Alistair Cockburn构思了 [端口和适配器架构](https://web.archive.org/web/20180822100852/http://alistair.cockburn.us/Hexagonal+architecture) (又称 [六边形架构](http://alistair.cockburn.us/Hexagonal+architecture))并记录在他的博客中。

[![image-20220917214531386](https://img2022.cnblogs.com/blog/650581/202211/650581-20221111155401116-387103646.png)](https://img2022.cnblogs.com/blog/650581/202211/650581-20221111155401116-387103646.png)

（www.herbertograca.com）

## 七、洋葱架构

[2008 年 Jeffrey Palermo 提出了洋葱架构](http://jeffreypalermo.com/blog/the-onion-architecture-part-1/) 。它在端口和适配器架构中贯彻了将领域放在应用中心。

[![image-20220917211934241](https://img2022.cnblogs.com/blog/650581/202211/650581-20221111155401098-1082682293.png)](https://img2022.cnblogs.com/blog/650581/202211/650581-20221111155401098-1082682293.png)

（www.herbertograca.com）

它明确了端口和适配器中关于依赖的方向:

- 外层依赖内层。
- 内层对外层无感知。

耦合的方向是从外层指向中心，它提供了一个完全独立的对象模型(领域模型)，该模型位于架构的核心，不依赖其它任何层次。我们拥有了在不影响内层的情况下改变外层的灵活性。

> 洋葱架构的关键原则：
> 
> - 围绕独立的对象模型构建应用
> - 内层定义接口，外层实现接口
> - 依赖的方向指向圆心
> - 所有的应用代码可以独立于基础设施编译和运行
> 
> —— Jeffrey Palermo 2008, [The Onion Architecture: part 3](http://jeffreypalermo.com/blog/the-onion-architecture-part-3/)

## 八、整洁架构

Robert C. Martin(大名鼎鼎的 Uncle Bob)于2012年在 [他的一篇博客](https://blog.8thlight.com/uncle-bob/2012/08/13/the-clean-architecture.html) 中发表了 *整洁架构* 的观点，并在一些会议上做了关于该架构的演讲。站在 EBI 架构、六边形架构和洋葱架构的肩膀上的架构。

[![image-20220917215122346](https://img2022.cnblogs.com/blog/650581/202211/650581-20221111155401095-437178288.png)](https://img2022.cnblogs.com/blog/650581/202211/650581-20221111155401095-437178288.png)

## 九、清晰架构

[https://herbertograca.com/2017/11/16/explicit-architecture-01-ddd-hexagonal-onion-clean-cqrs-how-i-put-it-all-together/](https://herbertograca.com/2017/11/16/explicit-architecture-01-ddd-hexagonal-onion-clean-cqrs-how-i-put-it-all-together/)

融合 DDD、洋葱架构、整洁架构、CQRS 等的架构。

[![image-20220917215723499](https://img2022.cnblogs.com/blog/650581/202211/650581-20221111155401244-1227900032.png)](https://img2022.cnblogs.com/blog/650581/202211/650581-20221111155401244-1227900032.png)

## 十、参考

- [https://jeffreypalermo.com/2008/07/the-onion-architecture-part-1/](https://jeffreypalermo.com/2008/07/the-onion-architecture-part-1/)
- [https://herbertograca.com/2017/07/03/the-software-architecture-chronicles/](https://herbertograca.com/2017/07/03/the-software-architecture-chronicles/)
- [https://herbertograca.com/2017/09/07/domain-driven-design/](https://herbertograca.com/2017/09/07/domain-driven-design/)
- [https://blog.8thlight.com/uncle-bob/2012/08/13/the-clean-architecture.html](https://blog.8thlight.com/uncle-bob/2012/08/13/the-clean-architecture.html)
- [https://www.jianshu.com/p/d87d5389c92a](https://www.jianshu.com/p/d87d5389c92a) 洋葱架构(译)
- [https://www.jianshu.com/p/395814410cf5](https://www.jianshu.com/p/395814410cf5) EBI 架构(译)

作者：九卷 (公众号：九卷沉思录)

出处： [https://www.cnblogs.com/jiujuan/p/16880756.html](https://www.cnblogs.com/jiujuan/p/16880756.html)

版权：本文采用「 [署名-非商业性使用-相同方式共享 by nc nd 4.0 国际](https://creativecommons.org/licenses/by-nc-nd/4.0/) 」知识共享许可协议进行许可。

【升认知赚好钱】

分类:

标签: , , , ,

[![](https://pic.cnblogs.com/face/650581/20190630002924.png)](https://home.cnblogs.com/u/jiujuan/)

[九卷](https://home.cnblogs.com/u/jiujuan/)  
[粉丝 - 278](https://home.cnblogs.com/u/jiujuan/followers/) [关注 - 165](https://home.cnblogs.com/u/jiujuan/followees/)  

[+加关注](https://www.cnblogs.com/jiujuan/p/)

3

0

[«](https://www.cnblogs.com/jiujuan/p/16871889.html) 上一篇： [了解企业架构EA(Enterprise Architecture)](https://www.cnblogs.com/jiujuan/p/16871889.html "发布于 2022-11-09 02:53")  
[»](https://www.cnblogs.com/jiujuan/p/16939688.html) 下一篇： [HTTP2 协议长文详解](https://www.cnblogs.com/jiujuan/p/16939688.html "发布于 2022-11-30 20:43")

[字节旗下的 TRAE](https://www.trae.com.cn/?utm_source=advertising&utm_medium=cnblogs_ug_cpa&utm_term=hw_trae_cnblogs)